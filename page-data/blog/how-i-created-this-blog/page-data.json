{"componentChunkName":"component---src-templates-blog-post-js","path":"/blog/how-i-created-this-blog/","result":{"data":{"site":{"siteMetadata":{"title":"anandamritraj.in","author":"Anand Raj"}},"markdownRemark":{"id":"da53805c-8ce4-50e7-8c24-7ea3cd066a0f","html":"<p>We have already covered why I created this blog. You might be wondering how I created this amazing, super fast, mobile-first, super-responsive (..100 more words..) website.</p>\n<p>If you are not, you should. Let’s unfold how it all works!</p>\n<h2 id=\"what-did-i-use\"><a href=\"#what-did-i-use\" aria-label=\"what did i use permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>What did I use?</h2>\n<p>The whole blog is a server-side rendered static website powered by <a href=\"https://www.gatsbyjs.org/\">Gatsby.js</a>. If you are not living under a rock for the past few months you must have heard about it. Gatsby.js is an amazing piece of technology which lets you create super-fast websites with minimal code.</p>\n<p>It uses the power of React.js, web pack and modern JavaScript and CSS to build powerful web apps. As the backend you can use anything, for my case I will be using simple MarkDown files. Gatsby.js will automatically (read <em>magically</em>) convert you markdown files into HTML and load them as blog posts. And there are tons of plugins available to build additional features to your website. For instance, there are plugins which will convert your website into a Progressive Web App without you having to do anything.</p>\n<p>Gatsby.js will generate static assets which can be served through any server which can handle HTML, CSS and JavaScript. This means that you can use Github Pages to host your website for free, <em>forever</em>. There are other <em>free</em> ways to host a Gatsby.js website but I will cover what I am using for this awesome website.</p>\n<h2 id=\"why-did-i-choose-gatsbyjs\"><a href=\"#why-did-i-choose-gatsbyjs\" aria-label=\"why did i choose gatsbyjs permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Why did I choose Gatsby.js?</h2>\n<p>It’s simple, easy to deploy and <em>hot</em> right now! Apart from that it is super fast, SEO friendly, responsive and provides a PWA out of the box without having to do much.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 582px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/3e40eb64c5e14d287d0b9c2056109315/f47f4/metrics-25-05-2018.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 72.16494845360825%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABJ0AAASdAHeZh94AAACPElEQVQ4y41T527bQAzW+79VEaBFWjeuiwxbabxi7b3udFpfSdpKnKA/Spg40hz6uCxME9rOoDEKmOhHuuk7aNOKPF3symg2YhyJyW8wjbwcc47XIlvd0OHn6QFf93dIVYF+6HHv2bg9rJDrkoIm3JH9ZrtARjqmASbewThLTHUIQ/aV84Sb3ULiLdW3WDj3+P76G14Voe0Nlu4jbl9XiJoU3djjjvRvxyX8OmFoMNsv6N1fmLIjSkK3dAjQYYlT7sMybYutd4DtbNHqFkM/4BC8nnWyjaSz/fFoQzXUFiKVuqjcNWZyEh8b50Vkq65rJHGCPM1QVRXqpoa93mD9+IQ0TWGMEXscRsiLQoJ2+yPslz0YDJMhIE3VnBPiH9RSEqUV+r7/aBhH+U+rBk2ZQSktQ+O2DBebNZIwDMMbs85OTAUhYpRJklC5lGS3RZ7l6HSFLtwgywo0lPw53KPIC1RlBetzss8sqzPrlzU6295lplyVhHKAFccRnu0NXM+D45xwOjn4X5orOWYuftCWrGhQlqaGpjQQz/Ph+T71RX1w/hx8Lc/vJtzJHjNbNfUmpb6EUQQ/CGSqs7OUNL339Lq/1+Wyj1MEcm0WT4abXpalvBEnJqS61XIZdrSXC2CK41hsAX04DEOReXAVnSGXHVTxecq8wMxaaxn9PKCOzrBuG3ll3wg9+3BbWBa/YZRzZT/dtXTLXUf98wQZ87x7vFc1fXkdbpE0ufwXxdGbX3FZcrkcSvQnPsClsv8CuSg1y73F6+YAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Also this!\"\n        title=\"Also this!\"\n        src=\"/static/3e40eb64c5e14d287d0b9c2056109315/f47f4/metrics-25-05-2018.png\"\n        srcset=\"/static/3e40eb64c5e14d287d0b9c2056109315/00d96/metrics-25-05-2018.png 148w,\n/static/3e40eb64c5e14d287d0b9c2056109315/0b23c/metrics-25-05-2018.png 295w,\n/static/3e40eb64c5e14d287d0b9c2056109315/f47f4/metrics-25-05-2018.png 582w\"\n        sizes=\"(max-width: 582px) 100vw, 582px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>You can see pretty high numbers in the Google Lighthouse Audit tool. Those are some pretty high scores and great for SEO and Mobile.</p>\n<h2 id=\"how-can-i-build-my-own\"><a href=\"#how-can-i-build-my-own\" aria-label=\"how can i build my own permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>How can I build my own?</h2>\n<p>So you want to build your own blog like this? You are at the right place! Let’s cover that!</p>\n<p>I will assume you have the following things already, if not please search the internet on how to get them.</p>\n<ol>\n<li>Git</li>\n<li>A GitHub Account</li>\n<li>A text-editor (use VS code)</li>\n<li>A Travis-CI account. (This is optional)</li>\n</ol>\n<h3 id=\"step-1-clone\"><a href=\"#step-1-clone\" aria-label=\"step 1 clone permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Step 1: Clone</h3>\n<p>Clone <a href=\"https://github.com/anamritraj/anandamritraj.in.git\">this repository</a></p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> clone https://github.com/anamritraj/anandamritraj.in.git</code></pre></div>\n<h3 id=\"step-2-make-changes\"><a href=\"#step-2-make-changes\" aria-label=\"step 2 make changes permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Step 2: Make changes</h3>\n<p>Now that you have cloned this repository, move into that folder using you cmd/terminal and run</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">yarn</span>\n<span class=\"token comment\"># or if you are an npm user</span>\n<span class=\"token function\">npm</span> <span class=\"token function\">install</span></code></pre></div>\n<p>This will install all the project dependencies in your machine. Now, let’s test this..</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">yarn</span> dev\n<span class=\"token comment\"># or</span>\n<span class=\"token function\">npm</span> run dev</code></pre></div>\n<p>This will start the development server on <a href=\"http://localhost:8000\">http://localhost:8000</a>.</p>\n<p>Go to <code class=\"language-text\">/src/pages/</code> and create a new file. Keep an eye on your browser. As soon as you hit save, the post will be reflected in the browser. This is Hot-reloading and one of the features I love the most. This is by far my favourite feature of Gatsby.js.</p>\n<p>Now before deploying a website with my name and photo on it (which I would love, but you probably don’t want to) let’s make some changes.</p>\n<p>I will list the exact places where you may want to make the changes.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">README.md\npackage.json\nscript/deploy-to-gh-pages.sh\ngatsby-config.js\nsrc/components/Bio.js\nsrc/templates/blog-post.js\nstatic/CNAME</code></pre></div>\n<p><strong>Note</strong>: If you are not planning to use a custom domain delete that <code class=\"language-text\">static/CNAME</code> file. Otherwise, add your domain there.</p>\n<p>There’s one particular change which I would like to talk about. If you check the <code class=\"language-text\">/gatsby-config.js</code> file. There is a parameter called <code class=\"language-text\">pathPrefix</code>. If you are not planning to use a custom domain then you need to set it to <code class=\"language-text\">/REPO_NAME</code>. This will tell Gatsby.js to add the necessary path to links while navigating around your website.</p>\n<p>These are all the files where you will have make changes to customize the names and some variables. I’ll leave the exact changes for you to explore.</p>\n<h3 id=\"step-3-deploy\"><a href=\"#step-3-deploy\" aria-label=\"step 3 deploy permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Step 3: Deploy!</h3>\n<p>Now that you have made changes to <em>your</em> site. Let’s deploy it for the world to see. We are going to use Github Pages for this.</p>\n<p>If you don’t have a Github account then its probably a good idea to create one now.</p>\n<p>Now let’s create a new repository on Github.\nGoto <a href=\"https://github.com/YOUR_USERNAME?tab=repositories\">https://github.com/YOUR_USERNAME?tab=repositories</a></p>\n<p>Click that big green button which says <em>New</em>. Give your repo a name and keep it Public. Don’t select anything else and click Create Repository.</p>\n<p>From your terminal, run</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># Rename any old origins if you have any</span>\n<span class=\"token function\">git</span> remote <span class=\"token function\">rename</span> origin destination\n<span class=\"token comment\"># Point to the newly created repository</span>\n<span class=\"token function\">git</span> remote <span class=\"token function\">add</span> origin https://github.com/YOUR_USERNAME/REPO_NAME.git\n<span class=\"token function\">git</span> push -u origin master\n<span class=\"token comment\"># Now the usual stuff</span>\n<span class=\"token function\">git</span> <span class=\"token function\">add</span> <span class=\"token builtin class-name\">.</span>\n<span class=\"token function\">git</span> commit -m <span class=\"token string\">\"Initial commit\"</span>\n<span class=\"token function\">git</span> push -u origin master</code></pre></div>\n<p>Reload the page on GitHub and you should see the code there.</p>\n<p>Now, there are 2 ways to deploy code and both use GitHub Pages to serve the static files.</p>\n<ol>\n<li>Use your terminal to deploy to <code class=\"language-text\">gh-pages</code> branch</li>\n<li>Use Travis-CI to deploy your static assets</li>\n</ol>\n<p><strong>WAY 1: The easy way</strong></p>\n<p>If you look at the <code class=\"language-text\">package.json</code> file there is a <code class=\"language-text\">npm</code> script <code class=\"language-text\">git-deploy</code>. This will build the project and push everything in the <code class=\"language-text\">/public</code> directory to the <code class=\"language-text\">gh-pages</code> remote branch.</p>\n<p>From there you can go to repository settings here <a href=\"https://github.com/YOUR_USERNAME/REPO_NAME/settings\">https://github.com/YOUR_USERNAME/REPO_NAME/settings</a> and enable GitHub pages to use <code class=\"language-text\">gh-pages</code> branch.</p>\n<p>Congratulations! You have successfully deployed your code and your website is live at</p>\n<p><a href=\"https://YOUR_USERNAME.github.io/REPO_NAME\">https://YOUR_USERNAME.github.io/REPO_NAME</a></p>\n<p><strong>WAY 2: The cool way, and less annoying, and less manual</strong></p>\n<p>Let’s setup a Travis-CI account for this repository. Goto <a href=\"https://travis-ci.com\">https://travis-ci.com</a> and SignUp / Sign In. Go ahead and setup your Github Repository with Travis-CI.</p>\n<p>Now that you have this setup, go to Travis dashboard, choose your repository, Goto settings for that repository and then go to the section of <strong>Environment Variables</strong></p>\n<p>Let’s add a couple of environment variables which are used in our <code class=\"language-text\">/script/deploy-to-gh-pages.sh</code> script.\nThe first one is the path of your repo</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">repo_path <span class=\"token operator\">=</span> YOUR_GITHUB_USERNAME/REPO_NAME\n<span class=\"token comment\"># In my case it is anamritraj/anandamritraj.in</span></code></pre></div>\n<p>The second one is a GitHub API key. Goto <a href=\"https://github.com/settings/tokens\">this page</a> and click generate new token. Select the first checkbox which says <code class=\"language-text\">repo</code>. Give your token a name. Now make sure you save this somewhere safe, treat it like your password and don’t share it with anyone.</p>\n<p>Now, back to the Travis settings page, add another environment variable.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">github_token <span class=\"token operator\">=</span> YOUR_TOKEN</code></pre></div>\n<p>Also, make sure that the <strong>Display value in build log</strong> is off. This will prevent this token to show up in build logs.</p>\n<p>Now all you have to do is make changes and push the code to <code class=\"language-text\">master</code>. Travis will automatically build it for you and deploy the code to <code class=\"language-text\">gh_pages</code> branch.</p>\n<p>The script for this is written in <code class=\"language-text\">/script/deploy-to-gh-pages.sh</code>. You can tweak the settings if you want to.</p>\n<h2 id=\"step-4-iterate\"><a href=\"#step-4-iterate\" aria-label=\"step 4 iterate permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Step 4: Iterate!</h2>\n<p>This was in no way a complete tutorial and only scratches the top of what you can achieve with Gatsby.js. If you know basic React.js then you can make it do whatever you want.</p>\n<p>I feel like writing more stuff on this blog just because it feels so snappy while reading it. I probably will write more.</p>\n<p>Till then Merry Christmas and Happy New year!</p>","timeToRead":6,"frontmatter":{"title":"How I created this blog?","date":"December 25, 2018","spoiler":"Merry Christmas!"},"fields":{"slug":"/how-i-created-this-blog/"}}},"pageContext":{"slug":"/how-i-created-this-blog/","previous":{"fields":{"slug":"/why-this-blog/"},"frontmatter":{"title":"Why this blog?"}},"next":{"fields":{"slug":"/looking-back-at-2018/"},"frontmatter":{"title":"My 2018 year review!"}}}}}